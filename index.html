<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Premium Health Assessment - Personalized Fat-Burning Guide</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'primary': '#b4300a',
                        'primary-dark': '#7a150b',
                        'accent': '#b4300a',
                        'accent-dark': '#7a150b',
                        'gold': '#b4300a',
                        'gold-dark': '#7a150b',
                        'dark': '#25262a',
                        'dark-alt': '#26272b'
                    },
                    fontFamily: {
                        'display': ['Crimson Text', 'serif'],
                        'body': ['Inter', 'sans-serif'],
                        'accent': ['Space Grotesk', 'sans-serif'],
                        'heading': ['Poppins', 'sans-serif']
                    }
                }
            }
        }
    </script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=Poppins:wght@300;400;500;600;700;800;900&family=Crimson+Text:wght@400;600;700&family=Space+Grotesk:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body { 
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #b4300a 0%, #7a150b 50%, #25262a 100%);
            min-height: 100vh;
            font-weight: 400;
            letter-spacing: -0.01em;
        }
        
        h1, h2, h3, h4, h5, h6 {
            font-family: 'Crimson Text', serif;
            font-weight: 600;
            letter-spacing: -0.02em;
        }
        
        .font-accent {
            font-family: 'Space Grotesk', sans-serif;
            font-weight: 500;
        }
        
        .font-heading {
            font-family: 'Poppins', sans-serif;
            font-weight: 600;
        }
        
        .glass-card {
            background: rgba(255, 255, 255, 0.98);
            backdrop-filter: blur(25px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            box-shadow: 0 32px 64px rgba(0, 0, 0, 0.12), 0 8px 32px rgba(180, 48, 10, 0.08);
        }
        
        .option-card {
            background: linear-gradient(145deg, #ffffff, #fafbfc);
            border: 2px solid rgba(226, 232, 240, 0.5);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            cursor: pointer;
            min-height: 90px;
            position: relative;
            overflow: hidden;
        }
        
        .option-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(180, 48, 10, 0.1), transparent);
            transition: left 0.6s ease;
        }
        
        .option-card:hover::before {
            left: 100%;
        }
        
        .option-card:hover {
            transform: translateY(-4px) scale(1.02);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.12), 0 8px 24px rgba(180, 48, 10, 0.15);
            border-color: rgba(180, 48, 10, 0.4);
        }
        
        .option-card.selected {
            background: linear-gradient(145deg, #fef7f7, #fef2f2);
            border-color: #b4300a;
            transform: translateY(-4px) scale(1.02);
            box-shadow: 0 20px 40px rgba(180, 48, 10, 0.25), 0 8px 24px rgba(180, 48, 10, 0.2);
        }
        
        .progress-bar {
            background: linear-gradient(90deg, #b4300a, #7a150b);
            transition: width 0.6s ease;
        }
        
        .fade-in {
            animation: fadeIn 0.6s ease-out;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .premium-button {
            background: linear-gradient(135deg, #b4300a 0%, #7a150b 50%, #25262a 100%);
            transition: all 0.4s ease;
            font-family: 'Montserrat', sans-serif;
            font-weight: 600;
        }
        
        .premium-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 15px 30px rgba(180, 48, 10, 0.3);
        }
        
        .question-number {
            background: linear-gradient(135deg, #b4300a, #7a150b);
            box-shadow: 0 8px 20px rgba(180, 48, 10, 0.3);
            font-family: 'Montserrat', sans-serif;
            font-weight: 800;
        }
        
        .hidden { display: none; }
        
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }
        
        @keyframes confettiFall {
            0% { transform: translateY(-10px) rotate(0deg); opacity: 1; }
            100% { transform: translateY(100vh) rotate(360deg); opacity: 0; }
        }
    </style>
</head>
<body class="min-h-screen relative">
    <!-- Header -->
    <div class="relative z-10 pt-6 sm:pt-12 pb-4 sm:pb-8">
        <div class="max-w-6xl mx-auto px-4 sm:px-6">
            <div class="text-center mb-6 sm:mb-12">
                <div class="relative inline-block mb-8 sm:mb-12">
                    <div class="w-32 h-32 sm:w-40 sm:h-40 mx-auto relative">
                        <div class="absolute inset-0 rounded-full bg-gradient-to-r from-primary via-accent to-gold opacity-30 blur-2xl animate-pulse"></div>
                        <div class="absolute inset-0 flex items-center justify-center">
                            <div class="w-20 h-20 sm:w-24 sm:h-24 rounded-full border-4 border-white bg-white shadow-2xl flex items-center justify-center">
                                <div class="w-14 h-14 sm:w-16 sm:h-16 bg-gradient-to-br from-primary via-accent to-gold rounded-2xl flex items-center justify-center">
                                    <span class="text-white font-bold text-lg sm:text-xl font-accent">BT</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <h1 class="text-3xl sm:text-5xl md:text-7xl font-black text-white mb-4 sm:mb-6 leading-tight px-2 font-display">
                    Premium Health
                    <span class="block bg-gradient-to-r from-orange-300 via-red-300 to-red-200 bg-clip-text text-transparent">
                        Assessment
                    </span>
                </h1>
            </div>

            <!-- Progress Bar -->
            <div id="progressSection" class="glass-card rounded-xl sm:rounded-2xl p-4 sm:p-6 mb-4 sm:mb-8">
                <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center mb-4 gap-2 sm:gap-0">
                    <div class="flex items-center space-x-2 sm:space-x-3">
                        <div class="w-2 h-2 sm:w-3 sm:h-3 bg-accent rounded-full animate-pulse"></div>
                        <span class="text-gray-700 font-semibold text-sm sm:text-base font-accent">Assessment Progress</span>
                    </div>
                    <div class="flex items-center space-x-2 sm:space-x-3">
                        <span id="progressText" class="text-gray-700 font-bold text-base sm:text-lg font-accent">0% Complete</span>
                        <div class="w-8 h-8 sm:w-10 sm:h-10 bg-gray-100 rounded-full flex items-center justify-center">
                            <span id="progressStep" class="text-gray-700 font-bold text-xs sm:text-sm font-accent">0/4</span>
                        </div>
                    </div>
                </div>
                <div class="w-full bg-gray-200 rounded-full h-2 sm:h-3 overflow-hidden">
                    <div id="progressBar" class="progress-bar h-2 sm:h-3 rounded-full" style="width: 0%"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <div class="relative z-10 max-w-6xl mx-auto px-4 sm:px-6 pb-6 sm:pb-12">
        <!-- Question 1: Age -->
        <div id="question1" class="question-section fade-in">
            <div class="glass-card rounded-2xl sm:rounded-3xl p-6 sm:p-8 md:p-12 mb-6 sm:mb-8">
                <div class="flex flex-col sm:flex-row items-start mb-8 sm:mb-10">
                    <div class="question-number w-12 h-12 sm:w-16 sm:h-16 rounded-xl sm:rounded-2xl text-white font-bold text-lg sm:text-xl mb-4 sm:mb-0 sm:mr-6 flex items-center justify-center flex-shrink-0">
                        1
                    </div>
                    <div class="flex-1">
                        <h2 class="text-2xl sm:text-3xl md:text-4xl font-bold text-gray-800 mb-3 font-display">
                            What is your age range?
                        </h2>
                        <p class="text-gray-600 text-base sm:text-lg leading-relaxed">
                            This helps us customize your metabolism recommendations for your life stage
                        </p>
                    </div>
                </div>
                
                <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6">
                    <div class="option-card rounded-xl sm:rounded-2xl p-6 sm:p-8 text-center group" onclick="selectOption('age', '18-29', this)">
                        <div class="w-12 h-12 sm:w-16 sm:h-16 bg-gradient-to-br from-primary to-accent rounded-xl sm:rounded-2xl flex items-center justify-center mx-auto mb-3 sm:mb-4 group-hover:scale-110 transition-transform duration-300">
                            <span class="text-xl sm:text-2xl">🌟</span>
                        </div>
                        <div class="font-bold text-gray-800 text-lg sm:text-xl mb-2 font-accent">18-29 years</div>
                        <div class="text-gray-600 font-semibold text-sm sm:text-base">Peak Metabolism</div>
                        <div class="text-xs sm:text-sm text-gray-500 mt-2">Highest natural fat-burning potential</div>
                    </div>
                    
                    <div class="option-card rounded-xl sm:rounded-2xl p-6 sm:p-8 text-center group" onclick="selectOption('age', '30-39', this)">
                        <div class="w-12 h-12 sm:w-16 sm:h-16 bg-gradient-to-br from-accent to-gold rounded-xl sm:rounded-2xl flex items-center justify-center mx-auto mb-3 sm:mb-4 group-hover:scale-110 transition-transform duration-300">
                            <span class="text-xl sm:text-2xl">💪</span>
                        </div>
                        <div class="font-bold text-gray-800 text-lg sm:text-xl mb-2 font-accent">30-39 years</div>
                        <div class="text-gray-600 font-medium text-sm sm:text-base">Prime Adult</div>
                        <div class="text-xs sm:text-sm text-gray-500 mt-2">Optimal strength & energy balance</div>
                    </div>
                    
                    <div class="option-card rounded-xl sm:rounded-2xl p-6 sm:p-8 text-center group" onclick="selectOption('age', '40-49', this)">
                        <div class="w-12 h-12 sm:w-16 sm:h-16 bg-gradient-to-br from-gold to-primary rounded-xl sm:rounded-2xl flex items-center justify-center mx-auto mb-3 sm:mb-4 group-hover:scale-110 transition-transform duration-300">
                            <span class="text-xl sm:text-2xl">🎯</span>
                        </div>
                        <div class="font-bold text-gray-800 text-lg sm:text-xl mb-2 font-accent">40-49 years</div>
                        <div class="text-gray-600 font-medium text-sm sm:text-base">Focused Approach</div>
                        <div class="text-xs sm:text-sm text-gray-500 mt-2">Strategic metabolism support needed</div>
                    </div>
                    
                    <div class="option-card rounded-xl sm:rounded-2xl p-6 sm:p-8 text-center group" onclick="selectOption('age', '50-59', this)">
                        <div class="w-12 h-12 sm:w-16 sm:h-16 bg-gradient-to-br from-purple-500 to-pink-500 rounded-xl sm:rounded-2xl flex items-center justify-center mx-auto mb-3 sm:mb-4 group-hover:scale-110 transition-transform duration-300">
                            <span class="text-xl sm:text-2xl">🧘</span>
                        </div>
                        <div class="font-bold text-gray-800 text-lg sm:text-xl mb-2 font-accent">50-59 years</div>
                        <div class="text-gray-600 font-medium text-sm sm:text-base">Balanced Lifestyle</div>
                        <div class="text-xs sm:text-sm text-gray-500 mt-2">Sustainable wellness focus</div>
                    </div>
                    
                    <div class="option-card rounded-xl sm:rounded-2xl p-6 sm:p-8 text-center group sm:col-span-2 lg:col-span-1" onclick="selectOption('age', '60+', this)">
                        <div class="w-12 h-12 sm:w-16 sm:h-16 bg-gradient-to-br from-green-400 to-blue-400 rounded-xl sm:rounded-2xl flex items-center justify-center mx-auto mb-3 sm:mb-4 group-hover:scale-110 transition-transform duration-300">
                            <span class="text-xl sm:text-2xl">🌿</span>
                        </div>
                        <div class="font-bold text-gray-800 text-lg sm:text-xl mb-2 font-accent">60+ years</div>
                        <div class="text-gray-600 font-medium text-sm sm:text-base">Gentle Methods</div>
                        <div class="text-xs sm:text-sm text-gray-500 mt-2">Safe, sustainable approaches</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Question 2: Weight Status -->
        <div id="question2" class="question-section hidden">
            <div class="glass-card rounded-2xl sm:rounded-3xl p-6 sm:p-8 md:p-12 mb-6 sm:mb-8">
                <div class="flex flex-col sm:flex-row items-start mb-8 sm:mb-10">
                    <div class="question-number w-12 h-12 sm:w-16 sm:h-16 rounded-xl sm:rounded-2xl text-white font-bold text-lg sm:text-xl mb-4 sm:mb-0 sm:mr-6 flex items-center justify-center flex-shrink-0">
                        2
                    </div>
                    <div class="flex-1">
                        <h2 class="text-2xl sm:text-3xl md:text-4xl font-bold text-gray-800 mb-3 font-display">
                            How would you describe your current weight status?
                        </h2>
                        <p class="text-gray-600 text-base sm:text-lg leading-relaxed">
                            This helps us understand your starting point and create the most appropriate strategy
                        </p>
                    </div>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6">
                    <div class="option-card rounded-xl sm:rounded-2xl p-6 sm:p-8 group" onclick="selectOption('weight', 'slightly-overweight', this)">
                        <div class="flex flex-col sm:flex-row items-center sm:items-start">
                            <div class="w-12 h-12 sm:w-16 sm:h-16 bg-gradient-to-br from-accent to-primary rounded-xl sm:rounded-2xl flex items-center justify-center mb-4 sm:mb-0 sm:mr-6 group-hover:scale-110 transition-transform duration-300">
                                <span class="text-xl sm:text-2xl">📊</span>
                            </div>
                            <div class="flex-1 text-center sm:text-left">
                                <div class="font-bold text-gray-800 text-lg sm:text-xl mb-2 font-accent">Slightly overweight</div>
                                <div class="text-gray-600 font-medium mb-1 text-sm sm:text-base">5-15 lbs above ideal</div>
                                <div class="text-xs sm:text-sm text-gray-500">Quick results possible</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="option-card rounded-xl sm:rounded-2xl p-6 sm:p-8 group" onclick="selectOption('weight', 'moderately-overweight', this)">
                        <div class="flex flex-col sm:flex-row items-center sm:items-start">
                            <div class="w-12 h-12 sm:w-16 sm:h-16 bg-gradient-to-br from-gold to-accent rounded-xl sm:rounded-2xl flex items-center justify-center mb-4 sm:mb-0 sm:mr-6 group-hover:scale-110 transition-transform duration-300">
                                <span class="text-xl sm:text-2xl">📈</span>
                            </div>
                            <div class="flex-1 text-center sm:text-left">
                                <div class="font-bold text-gray-800 text-lg sm:text-xl mb-2 font-accent">Moderately overweight</div>
                                <div class="text-gray-600 font-medium mb-1 text-sm sm:text-base">15-30 lbs above ideal</div>
                                <div class="text-xs sm:text-sm text-gray-500">Structured approach needed</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="option-card rounded-xl sm:rounded-2xl p-6 sm:p-8 group" onclick="selectOption('weight', 'significantly-overweight', this)">
                        <div class="flex flex-col sm:flex-row items-center sm:items-start">
                            <div class="w-12 h-12 sm:w-16 sm:h-16 bg-gradient-to-br from-primary to-purple-500 rounded-xl sm:rounded-2xl flex items-center justify-center mb-4 sm:mb-0 sm:mr-6 group-hover:scale-110 transition-transform duration-300">
                                <span class="text-xl sm:text-2xl">🎯</span>
                            </div>
                            <div class="flex-1 text-center sm:text-left">
                                <div class="font-bold text-gray-800 text-lg sm:text-xl mb-2 font-accent">Significantly overweight</div>
                                <div class="text-gray-600 font-medium mb-1 text-sm sm:text-base">30-50 lbs above ideal</div>
                                <div class="text-xs sm:text-sm text-gray-500">Comprehensive plan required</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="option-card rounded-xl sm:rounded-2xl p-6 sm:p-8 group" onclick="selectOption('weight', 'major-weight-loss', this)">
                        <div class="flex flex-col sm:flex-row items-center sm:items-start">
                            <div class="w-12 h-12 sm:w-16 sm:h-16 bg-gradient-to-br from-pink-500 to-red-500 rounded-xl sm:rounded-2xl flex items-center justify-center mb-4 sm:mb-0 sm:mr-6 group-hover:scale-110 transition-transform duration-300">
                                <span class="text-xl sm:text-2xl">🚀</span>
                            </div>
                            <div class="flex-1 text-center sm:text-left">
                                <div class="font-bold text-gray-800 text-lg sm:text-xl mb-2 font-accent">Major transformation</div>
                                <div class="text-gray-600 font-medium mb-1 text-sm sm:text-base">50+ lbs above ideal</div>
                                <div class="text-xs sm:text-sm text-gray-500">Life-changing journey ahead</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Question 3: Activity Level -->
        <div id="question3" class="question-section hidden">
            <div class="glass-card rounded-2xl sm:rounded-3xl p-6 sm:p-8 md:p-12 mb-6 sm:mb-8">
                <div class="flex flex-col sm:flex-row items-start mb-8 sm:mb-10">
                    <div class="question-number w-12 h-12 sm:w-16 sm:h-16 rounded-xl sm:rounded-2xl text-white font-bold text-lg sm:text-xl mb-4 sm:mb-0 sm:mr-6 flex items-center justify-center flex-shrink-0">
                        3
                    </div>
                    <div class="flex-1">
                        <h2 class="text-2xl sm:text-3xl md:text-4xl font-bold text-gray-800 mb-3 font-display">
                            What is your current activity level?
                        </h2>
                        <p class="text-gray-600 text-base sm:text-lg leading-relaxed">
                            This helps us tailor the right approach for your lifestyle and fitness capacity
                        </p>
                    </div>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6">
                    <div class="option-card rounded-xl sm:rounded-2xl p-6 sm:p-8 group" onclick="selectOption('activity', 'sedentary', this)">
                        <div class="flex flex-col sm:flex-row items-center sm:items-start">
                            <div class="w-12 h-12 sm:w-16 sm:h-16 bg-gradient-to-br from-gray-400 to-gray-600 rounded-xl sm:rounded-2xl flex items-center justify-center mb-4 sm:mb-0 sm:mr-6 group-hover:scale-110 transition-transform duration-300">
                                <span class="text-xl sm:text-2xl">💺</span>
                            </div>
                            <div class="flex-1 text-center sm:text-left">
                                <div class="font-bold text-gray-800 text-lg sm:text-xl mb-2 font-accent">Sedentary</div>
                                <div class="text-gray-600 font-medium mb-1 text-sm sm:text-base">Desk job, minimal exercise</div>
                                <div class="text-xs sm:text-sm text-gray-500">We'll start gentle and build up</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="option-card rounded-xl sm:rounded-2xl p-6 sm:p-8 group" onclick="selectOption('activity', 'lightly-active', this)">
                        <div class="flex flex-col sm:flex-row items-center sm:items-start">
                            <div class="w-12 h-12 sm:w-16 sm:h-16 bg-gradient-to-br from-green-400 to-accent rounded-xl sm:rounded-2xl flex items-center justify-center mb-4 sm:mb-0 sm:mr-6 group-hover:scale-110 transition-transform duration-300">
                                <span class="text-xl sm:text-2xl">🚶</span>
                            </div>
                            <div class="flex-1 text-center sm:text-left">
                                <div class="font-bold text-gray-800 text-lg sm:text-xl mb-2 font-accent">Lightly active</div>
                                <div class="text-gray-600 font-medium mb-1 text-sm sm:text-base">Light exercise 1-3 days/week</div>
                                <div class="text-xs sm:text-sm text-gray-500">Perfect foundation to build on</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="option-card rounded-xl sm:rounded-2xl p-6 sm:p-8 group" onclick="selectOption('activity', 'moderately-active', this)">
                        <div class="flex flex-col sm:flex-row items-center sm:items-start">
                            <div class="w-12 h-12 sm:w-16 sm:h-16 bg-gradient-to-br from-primary to-accent rounded-xl sm:rounded-2xl flex items-center justify-center mb-4 sm:mb-0 sm:mr-6 group-hover:scale-110 transition-transform duration-300">
                                <span class="text-xl sm:text-2xl">🏃</span>
                            </div>
                            <div class="flex-1 text-center sm:text-left">
                                <div class="font-bold text-gray-800 text-lg sm:text-xl mb-2 font-accent">Moderately active</div>
                                <div class="text-gray-600 font-medium mb-1 text-sm sm:text-base">Exercise 3-5 days/week</div>
                                <div class="text-xs sm:text-sm text-gray-500">Great base for optimization</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="option-card rounded-xl sm:rounded-2xl p-6 sm:p-8 group" onclick="selectOption('activity', 'very-active', this)">
                        <div class="flex flex-col sm:flex-row items-center sm:items-start">
                            <div class="w-12 h-12 sm:w-16 sm:h-16 bg-gradient-to-br from-gold to-red-500 rounded-xl sm:rounded-2xl flex items-center justify-center mb-4 sm:mb-0 sm:mr-6 group-hover:scale-110 transition-transform duration-300">
                                <span class="text-xl sm:text-2xl">💪</span>
                            </div>
                            <div class="flex-1 text-center sm:text-left">
                                <div class="font-bold text-gray-800 text-lg sm:text-xl mb-2 font-accent">Very active</div>
                                <div class="text-gray-600 font-medium mb-1 text-sm sm:text-base">Exercise 6-7 days/week</div>
                                <div class="text-xs sm:text-sm text-gray-500">Advanced strategies available</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Question 4: Primary Goal -->
        <div id="question4" class="question-section hidden">
            <div class="glass-card rounded-2xl sm:rounded-3xl p-6 sm:p-8 md:p-12 mb-6 sm:mb-8">
                <div class="flex flex-col sm:flex-row items-start mb-8 sm:mb-10">
                    <div class="question-number w-12 h-12 sm:w-16 sm:h-16 rounded-xl sm:rounded-2xl text-white font-bold text-lg sm:text-xl mb-4 sm:mb-0 sm:mr-6 flex items-center justify-center flex-shrink-0">
                        4
                    </div>
                    <div class="flex-1">
                        <h2 class="text-2xl sm:text-3xl md:text-4xl font-bold text-gray-800 mb-3 font-display">
                            What is your primary goal?
                        </h2>
                        <p class="text-gray-600 text-base sm:text-lg leading-relaxed">
                            This determines your personalized action plan and specific strategies
                        </p>
                    </div>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6">
                    <div class="option-card rounded-xl sm:rounded-2xl p-6 sm:p-8 group" onclick="selectOption('goal', 'lose-weight-fast', this)">
                        <div class="flex flex-col sm:flex-row items-center sm:items-start">
                            <div class="w-12 h-12 sm:w-16 sm:h-16 bg-gradient-to-br from-red-500 to-pink-500 rounded-xl sm:rounded-2xl flex items-center justify-center mb-4 sm:mb-0 sm:mr-6 group-hover:scale-110 transition-transform duration-300">
                                <span class="text-xl sm:text-2xl">⚡</span>
                            </div>
                            <div class="flex-1 text-center sm:text-left">
                                <div class="font-bold text-gray-800 text-lg sm:text-xl mb-2 font-accent">Lose weight quickly</div>
                                <div class="text-gray-600 font-medium mb-1 text-sm sm:text-base">Fast results, intensive approach</div>
                                <div class="text-xs sm:text-sm text-gray-500">Accelerated fat-burning protocols</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="option-card rounded-xl sm:rounded-2xl p-6 sm:p-8 group" onclick="selectOption('goal', 'sustainable-loss', this)">
                        <div class="flex flex-col sm:flex-row items-center sm:items-start">
                            <div class="w-12 h-12 sm:w-16 sm:h-16 bg-gradient-to-br from-accent to-green-400 rounded-xl sm:rounded-2xl flex items-center justify-center mb-4 sm:mb-0 sm:mr-6 group-hover:scale-110 transition-transform duration-300">
                                <span class="text-xl sm:text-2xl">🌱</span>
                            </div>
                            <div class="flex-1 text-center sm:text-left">
                                <div class="font-bold text-gray-800 text-lg sm:text-xl mb-2 font-accent">Sustainable weight loss</div>
                                <div class="text-gray-600 font-medium mb-1 text-sm sm:text-base">Steady, long-term approach</div>
                                <div class="text-xs sm:text-sm text-gray-500">Lifestyle-based transformation</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="option-card rounded-xl sm:rounded-2xl p-6 sm:p-8 group" onclick="selectOption('goal', 'boost-energy', this)">
                        <div class="flex flex-col sm:flex-row items-center sm:items-start">
                            <div class="w-12 h-12 sm:w-16 sm:h-16 bg-gradient-to-br from-gold to-yellow-400 rounded-xl sm:rounded-2xl flex items-center justify-center mb-4 sm:mb-0 sm:mr-6 group-hover:scale-110 transition-transform duration-300">
                                <span class="text-xl sm:text-2xl">🔋</span>
                            </div>
                            <div class="flex-1 text-center sm:text-left">
                                <div class="font-bold text-gray-800 text-lg sm:text-xl mb-2 font-accent">Boost energy levels</div>
                                <div class="text-gray-600 font-medium mb-1 text-sm sm:text-base">Feel more energetic daily</div>
                                <div class="text-xs sm:text-sm text-gray-500">Metabolic optimization focus</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="option-card rounded-xl sm:rounded-2xl p-6 sm:p-8 group" onclick="selectOption('goal', 'improve-health', this)">
                        <div class="flex flex-col sm:flex-row items-center sm:items-start">
                            <div class="w-12 h-12 sm:w-16 sm:h-16 bg-gradient-to-br from-primary to-purple-500 rounded-xl sm:rounded-2xl flex items-center justify-center mb-4 sm:mb-0 sm:mr-6 group-hover:scale-110 transition-transform duration-300">
                                <span class="text-xl sm:text-2xl">❤️</span>
                            </div>
                            <div class="flex-1 text-center sm:text-left">
                                <div class="font-bold text-gray-800 text-lg sm:text-xl mb-2 font-accent">Improve overall health</div>
                                <div class="text-gray-600 font-medium mb-1 text-sm sm:text-base">Better health markers</div>
                                <div class="text-xs sm:text-sm text-gray-500">Holistic wellness approach</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Human Verification Section -->
        <div id="verificationSection" class="question-section hidden">
            <div class="glass-card rounded-2xl sm:rounded-3xl p-6 sm:p-8 md:p-12 mb-6 sm:mb-8">
                <div class="text-center">
                    <div class="relative inline-block mb-6 sm:mb-8">
                        <div class="w-20 h-20 sm:w-24 sm:h-24 bg-gradient-to-br from-blue-500 to-purple-600 rounded-2xl sm:rounded-3xl flex items-center justify-center mx-auto shadow-2xl">
                            <svg class="w-10 h-10 sm:w-12 sm:h-12 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"></path>
                            </svg>
                        </div>
                    </div>
                    
                    <h2 class="text-2xl sm:text-3xl md:text-4xl font-bold text-gray-800 mb-4 sm:mb-6 font-display">
                        🔐 Human Verification Required
                    </h2>
                    
                    <div class="max-w-2xl mx-auto mb-8 sm:mb-10">
                        <p class="text-base sm:text-lg text-gray-700 leading-relaxed mb-4 sm:mb-6 px-2 font-body">
                            To protect our premium content and ensure you're a real person, please choose your preferred verification method.
                        </p>
                    </div>
                    
                    <!-- Verification Method Selection -->
                    <div class="max-w-2xl mx-auto mb-8 sm:mb-10">
                        <h3 class="text-xl font-bold text-gray-800 mb-6 font-heading">Choose Verification Method:</h3>
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <!-- Math Challenge Option -->
                            <div class="option-card rounded-xl sm:rounded-2xl p-6 sm:p-8 text-center group cursor-pointer" onclick="selectVerificationMethod('math')">
                                <div class="w-16 h-16 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-2xl flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform duration-300 shadow-lg">
                                    <span class="text-2xl">🧮</span>
                                </div>
                                <div class="font-bold text-gray-800 text-lg mb-2 font-heading">Math Challenge</div>
                                <div class="text-gray-600 font-medium text-sm">Solve a simple equation</div>
                                <div class="text-xs text-gray-500 mt-2">Quick & easy for math lovers</div>
                            </div>
                            
                            <!-- Image Challenge Option -->
                            <div class="option-card rounded-xl sm:rounded-2xl p-6 sm:p-8 text-center group cursor-pointer" onclick="selectVerificationMethod('image')">
                                <div class="w-16 h-16 bg-gradient-to-br from-green-500 to-emerald-600 rounded-2xl flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform duration-300 shadow-lg">
                                    <span class="text-2xl">🖼️</span>
                                </div>
                                <div class="font-bold text-gray-800 text-lg mb-2 font-heading">Image Challenge</div>
                                <div class="text-gray-600 font-medium text-sm">Select matching images</div>
                                <div class="text-xs text-gray-500 mt-2">Visual & intuitive verification</div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Math Challenge -->
                    <div id="mathChallenge" class="max-w-md mx-auto mb-8 sm:mb-10 hidden">
                        <div class="glass-card rounded-xl sm:rounded-2xl p-6 sm:p-8 bg-gradient-to-br from-white to-blue-50 border-2 border-blue-200">
                            <div class="flex items-center justify-center mb-4 sm:mb-6">
                                <div class="w-10 h-10 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-full flex items-center justify-center mr-3">
                                    <span class="text-white font-bold text-sm">🧮</span>
                                </div>
                                <h3 class="text-lg sm:text-xl font-bold text-gray-800 font-heading">Math Challenge</h3>
                            </div>
                            
                            <div class="text-center mb-4 sm:mb-6">
                                <div class="text-2xl sm:text-3xl font-bold text-gray-800 mb-2 font-accent" id="mathQuestion">
                                    Loading...
                                </div>
                                <p class="text-gray-600 text-sm font-body">Solve this simple equation</p>
                            </div>
                            
                            <div class="flex flex-col items-center space-y-4">
                                <input type="number" 
                                       id="mathAnswer" 
                                       placeholder="Enter your answer"
                                       class="w-full px-4 py-3 text-center text-lg font-bold border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-20 transition-all duration-300 font-accent"
                                       onkeypress="if(event.key==='Enter') verifyMath()">
                                
                                <button onclick="verifyMath()" 
                                        id="verifyMathBtn"
                                        class="w-full bg-gradient-to-r from-blue-500 to-indigo-600 text-white font-bold py-3 px-6 rounded-xl text-base transition-all duration-300 transform hover:scale-105 font-accent">
                                    Verify Answer
                                </button>
                            </div>
                            
                            <div id="mathFeedback" class="mt-4 text-center hidden">
                                <!-- Feedback will be inserted here -->
                            </div>
                        </div>
                    </div>
                    
                    <!-- Image Challenge -->
                    <div id="imageChallenge" class="max-w-2xl mx-auto mb-8 sm:mb-10 hidden">
                        <div class="glass-card rounded-xl sm:rounded-2xl p-6 sm:p-8 bg-gradient-to-br from-white to-green-50 border-2 border-green-200">
                            <div class="flex items-center justify-center mb-4 sm:mb-6">
                                <div class="w-10 h-10 bg-gradient-to-br from-green-500 to-emerald-600 rounded-full flex items-center justify-center mr-3">
                                    <span class="text-white font-bold text-sm">🖼️</span>
                                </div>
                                <h3 class="text-lg sm:text-xl font-bold text-gray-800 font-heading">Image Challenge</h3>
                            </div>
                            
                            <div class="text-center mb-6">
                                <p class="text-gray-700 font-medium mb-4 font-body" id="imageInstructions">
                                    Select all images that contain: <span class="font-bold text-green-600" id="imageTarget">Loading...</span>
                                </p>
                            </div>
                            
                            <div class="grid grid-cols-3 gap-3 mb-6" id="imageGrid">
                                <!-- Images will be generated here -->
                            </div>
                            
                            <div class="text-center">
                                <button onclick="verifyImages()" 
                                        id="verifyImageBtn"
                                        class="bg-gradient-to-r from-green-500 to-emerald-600 text-white font-bold py-3 px-8 rounded-xl text-base transition-all duration-300 transform hover:scale-105 font-accent">
                                    Verify Selection
                                </button>
                            </div>
                            
                            <div id="imageFeedback" class="mt-4 text-center hidden">
                                <!-- Feedback will be inserted here -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Final Section with Google Form -->
        <div id="finalSection" class="question-section hidden">
            <div class="glass-card rounded-2xl sm:rounded-3xl p-6 sm:p-8 md:p-12 mb-6 sm:mb-8">
                <div class="text-center">
                    <div class="relative inline-block mb-6 sm:mb-8">
                        <div class="w-20 h-20 sm:w-24 sm:h-24 bg-gradient-to-br from-accent to-primary rounded-2xl sm:rounded-3xl flex items-center justify-center mx-auto">
                            <svg class="w-10 h-10 sm:w-12 sm:h-12 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                    </div>
                    
                    <h2 class="text-3xl sm:text-4xl md:text-5xl font-black text-gray-800 mb-4 sm:mb-6 font-display">
                        🎉 Verification Complete!
                    </h2>
                    
                    <div class="max-w-3xl mx-auto mb-8 sm:mb-10">
                        <p class="text-lg sm:text-xl text-gray-700 leading-relaxed mb-4 sm:mb-6 px-2">
                            Thank you for verifying! Click below to download your <span class="font-bold text-accent font-accent">free personalized guide</span>. 
                            Please also fill out our Google Form so we can stay in touch, track your progress, 
                            and support you in <span class="font-bold text-primary font-accent">losing fat as quickly as possible</span>.
                        </p>
                    </div>
                    
                    <!-- Step 1: Complete Form First -->
                    <div id="step1Container" class="mb-6 sm:mb-8">
                        <div class="glass-card rounded-xl sm:rounded-2xl p-6 sm:p-8 max-w-4xl mx-auto mb-6 border-2 border-blue-200">
                            <div class="text-center mb-6">
                                <div class="w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-2xl flex items-center justify-center mx-auto mb-4">
                                    <span class="text-white font-bold text-2xl font-accent">1</span>
                                </div>
                                <h3 class="text-xl sm:text-2xl font-bold text-gray-800 mb-3 font-display">Step 1: Complete Progress Tracking Form</h3>
                                <p class="text-gray-600 text-sm sm:text-base mb-6">
                                    First, complete our tracking form so we can support your transformation journey and provide ongoing guidance.
                                </p>
                            </div>
                            
                            <button onclick="openGoogleForm()" 
                                    id="formButton"
                                    class="w-full bg-gradient-to-r from-blue-500 to-purple-600 text-white font-bold py-4 px-8 rounded-xl text-lg transition-all duration-300 transform hover:scale-105 hover:shadow-xl font-accent">
                                Complete Progress Tracking Form
                            </button>
                            
                            <div class="mt-4 text-center">
                                <p class="text-xs text-gray-500">
                                    ⏱️ Takes only 2-3 minutes to complete
                                </p>
                            </div>
                        </div>
                        
                        <!-- Form Completion Verification -->
                        <div class="glass-card rounded-xl sm:rounded-2xl p-6 sm:p-8 max-w-2xl mx-auto">
                            <div class="text-center">
                                <h4 class="text-lg font-bold text-gray-800 mb-4 font-accent">After completing the form:</h4>
                                <p class="text-gray-600 text-sm mb-4">
                                    Click the button below to confirm you've submitted the tracking form and unlock your PDF download.
                                </p>
                                
                                <button onclick="verifyFormCompletion()" 
                                        id="verifyFormBtn"
                                        class="bg-gray-300 text-gray-500 font-bold py-3 px-8 rounded-xl text-base cursor-not-allowed transition-all duration-300 font-accent" disabled>
                                    ✓ I've Completed the Form
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Step 2: Download PDF (Hidden Initially) -->
                    <div id="step2Container" class="hidden mb-6 sm:mb-8">
                        <div class="glass-card rounded-xl sm:rounded-2xl p-6 sm:p-8 max-w-4xl mx-auto border-2 border-green-200">
                            <div class="text-center mb-6">
                                <div class="w-16 h-16 bg-gradient-to-br from-green-500 to-emerald-600 rounded-2xl flex items-center justify-center mx-auto mb-4">
                                    <span class="text-white font-bold text-2xl font-accent">2</span>
                                </div>
                                <h3 class="text-xl sm:text-2xl font-bold text-gray-800 mb-3 font-display">Step 2: Download Your Personalized Guide</h3>
                                <p class="text-gray-600 text-sm sm:text-base mb-6">
                                    🎉 Thank you for completing the form! Your personalized fat-burning guide is now ready for download.
                                </p>
                            </div>
                            
                            <button onclick="downloadGuide()" 
                                    class="w-full premium-button text-white font-bold py-4 sm:py-6 px-8 sm:px-12 rounded-xl sm:rounded-2xl text-lg sm:text-xl transition-all duration-300 transform hover:scale-105 inline-flex items-center justify-center">
                                <svg class="w-5 h-5 sm:w-6 sm:h-6 mr-2 sm:mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                                </svg>
                                <span class="text-center">Download Your Free Personalized Guide</span>
                            </button>
                        </div>
                    </div>
                    
                    <div class="glass-card rounded-xl sm:rounded-2xl p-4 sm:p-6 max-w-lg mx-auto">
                        <div class="flex items-center justify-center mb-2 sm:mb-3">
                            <svg class="w-4 h-4 sm:w-5 sm:h-5 text-accent mr-2" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z" clip-rule="evenodd"></path>
                            </svg>
                            <span class="text-gray-700 font-semibold text-sm sm:text-base font-accent">100% Privacy Protected</span>
                        </div>
                        <p class="text-gray-600 text-xs sm:text-sm px-2">
                            Your information is secure and will never be shared. We're here to support your transformation journey.
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Navigation -->
        <div class="flex flex-col sm:flex-row justify-between items-center gap-4 sm:gap-6">
            <button id="prevBtn" onclick="previousQuestion()" 
                    class="flex items-center justify-center px-6 sm:px-8 py-3 sm:py-4 text-white bg-white bg-opacity-20 rounded-xl sm:rounded-2xl hover:bg-opacity-30 transition-all duration-300 transform hover:scale-105 hidden group backdrop-blur-sm w-full sm:w-auto order-2 sm:order-1 font-accent">
                <svg class="w-4 h-4 sm:w-5 sm:h-5 mr-2 group-hover:-translate-x-1 transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
                </svg>
                Previous Question
            </button>
            
            <button id="nextBtn" onclick="nextQuestion()" 
                    class="flex items-center justify-center px-6 sm:px-8 py-3 sm:py-4 bg-white text-gray-800 font-semibold rounded-xl sm:rounded-2xl transition-all duration-300 transform hover:scale-105 opacity-50 cursor-not-allowed group shadow-lg w-full sm:w-auto order-1 sm:order-2 font-accent" disabled>
                Continue Assessment
                <svg class="w-4 h-4 sm:w-5 sm:h-5 ml-2 group-hover:translate-x-1 transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                </svg>
            </button>
        </div>
    </div>

    <script>
        let currentQuestion = 1;
        let answers = {};
        const totalQuestions = 4;
        let mathAnswer = 0;
        let isVerified = false;
        let verificationAttempts = 0;
        const maxAttempts = 3;
        let selectedImages = [];
        let correctImages = [];
        let verificationMethod = null;

        function selectOption(category, value, element) {
            answers[category] = value;
            
            // Remove selected class from siblings
            const siblings = element.parentElement.children;
            for (let sibling of siblings) {
                sibling.classList.remove('selected');
            }
            
            // Add selected class to clicked element
            element.classList.add('selected');
            
            // Enable next button
            const nextBtn = document.getElementById('nextBtn');
            nextBtn.disabled = false;
            nextBtn.classList.remove('opacity-50', 'cursor-not-allowed');
            nextBtn.classList.add('hover:shadow-xl');
            
            updateProgress();
            
            // Auto-advance after selection
            setTimeout(() => {
                if (currentQuestion < totalQuestions) {
                    nextQuestion();
                }
            }, 800);
        }

        function nextQuestion() {
            if (currentQuestion < totalQuestions) {
                // Hide current question
                const currentQuestionEl = document.getElementById(`question${currentQuestion}`);
                currentQuestionEl.style.opacity = '0';
                currentQuestionEl.style.transform = 'translateY(-20px)';
                
                setTimeout(() => {
                    currentQuestionEl.classList.add('hidden');
                    currentQuestionEl.style.opacity = '';
                    currentQuestionEl.style.transform = '';
                    
                    // Show next question
                    currentQuestion++;
                    const nextQuestionEl = document.getElementById(`question${currentQuestion}`);
                    nextQuestionEl.classList.remove('hidden');
                    nextQuestionEl.classList.add('fade-in');
                    
                    updateNavigation();
                    updateProgress();
                }, 300);
                
            } else if (currentQuestion === totalQuestions) {
                // Show verification section
                const currentQuestionEl = document.getElementById(`question${currentQuestion}`);
                currentQuestionEl.style.opacity = '0';
                currentQuestionEl.style.transform = 'translateY(-20px)';
                
                setTimeout(() => {
                    currentQuestionEl.classList.add('hidden');
                    currentQuestionEl.style.opacity = '';
                    currentQuestionEl.style.transform = '';
                    
                    const verificationSection = document.getElementById('verificationSection');
                    verificationSection.classList.remove('hidden');
                    verificationSection.classList.add('fade-in');
                    
                    currentQuestion++;
                    updateNavigation();
                    updateProgress();
                }, 300);
            }
        }

        function previousQuestion() {
            if (currentQuestion > 1) {
                if (currentQuestion === totalQuestions + 2) {
                    // Coming back from final section
                    const finalSection = document.getElementById('finalSection');
                    finalSection.style.opacity = '0';
                    finalSection.style.transform = 'translateY(-20px)';
                    
                    setTimeout(() => {
                        finalSection.classList.add('hidden');
                        finalSection.style.opacity = '';
                        finalSection.style.transform = '';
                        
                        const verificationSection = document.getElementById('verificationSection');
                        verificationSection.classList.remove('hidden');
                        verificationSection.classList.add('fade-in');
                        
                        currentQuestion = totalQuestions + 1;
                        updateNavigation();
                        updateProgress();
                    }, 300);
                } else if (currentQuestion === totalQuestions + 1) {
                    // Coming back from verification section
                    const verificationSection = document.getElementById('verificationSection');
                    verificationSection.style.opacity = '0';
                    verificationSection.style.transform = 'translateY(-20px)';
                    
                    setTimeout(() => {
                        verificationSection.classList.add('hidden');
                        verificationSection.style.opacity = '';
                        verificationSection.style.transform = '';
                        
                        const questionEl = document.getElementById(`question${totalQuestions}`);
                        questionEl.classList.remove('hidden');
                        questionEl.classList.add('fade-in');
                        
                        currentQuestion = totalQuestions;
                        updateNavigation();
                        updateProgress();
                    }, 300);
                } else {
                    // Hide current question
                    const currentQuestionEl = document.getElementById(`question${currentQuestion}`);
                    currentQuestionEl.style.opacity = '0';
                    currentQuestionEl.style.transform = 'translateY(-20px)';
                    
                    setTimeout(() => {
                        currentQuestionEl.classList.add('hidden');
                        currentQuestionEl.style.opacity = '';
                        currentQuestionEl.style.transform = '';
                        
                        // Show previous question
                        currentQuestion--;
                        const prevQuestionEl = document.getElementById(`question${currentQuestion}`);
                        prevQuestionEl.classList.remove('hidden');
                        prevQuestionEl.classList.add('fade-in');
                        
                        updateNavigation();
                        updateProgress();
                    }, 300);
                }
            }
        }

        function updateNavigation() {
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            
            // Show/hide previous button
            if (currentQuestion > 1) {
                prevBtn.classList.remove('hidden');
            } else {
                prevBtn.classList.add('hidden');
            }
            
            // Update next button
            if (currentQuestion >= totalQuestions + 1) {
                nextBtn.classList.add('hidden');
            } else {
                nextBtn.classList.remove('hidden');
                // Check if current question is answered
                const questionKey = getQuestionKey(currentQuestion);
                if (answers[questionKey]) {
                    nextBtn.disabled = false;
                    nextBtn.classList.remove('opacity-50', 'cursor-not-allowed');
                    nextBtn.classList.add('hover:shadow-xl');
                } else {
                    nextBtn.disabled = true;
                    nextBtn.classList.add('opacity-50', 'cursor-not-allowed');
                    nextBtn.classList.remove('hover:shadow-xl');
                }
            }
        }

        function getQuestionKey(questionNum) {
            const keys = ['age', 'weight', 'activity', 'goal'];
            return keys[questionNum - 1];
        }

        function updateProgress() {
            const progress = Math.min((Object.keys(answers).length / totalQuestions) * 100, 100);
            const progressBar = document.getElementById('progressBar');
            const progressText = document.getElementById('progressText');
            const progressStep = document.getElementById('progressStep');
            
            progressBar.style.width = progress + '%';
            progressText.textContent = Math.round(progress) + '% Complete';
            progressStep.textContent = `${Object.keys(answers).length}/${totalQuestions}`;
        }

        // Select Verification Method
        function selectVerificationMethod(method) {
            verificationMethod = method;
            
            // Hide method selection
            const methodSelection = document.querySelector('.max-w-2xl.mx-auto.mb-8.sm\\:mb-10');
            methodSelection.style.opacity = '0';
            methodSelection.style.transform = 'translateY(-20px)';
            
            setTimeout(() => {
                methodSelection.classList.add('hidden');
                
                if (method === 'math') {
                    document.getElementById('mathChallenge').classList.remove('hidden');
                    document.getElementById('mathChallenge').classList.add('fade-in');
                    generateMathChallenge();
                } else if (method === 'image') {
                    document.getElementById('imageChallenge').classList.remove('hidden');
                    document.getElementById('imageChallenge').classList.add('fade-in');
                    generateImageChallenge();
                }
            }, 300);
        }

        // Generate Math Challenge
        function generateMathChallenge() {
            const operations = ['+', '-', '×'];
            const operation = operations[Math.floor(Math.random() * operations.length)];
            let num1, num2, question;
            
            switch(operation) {
                case '+':
                    num1 = Math.floor(Math.random() * 20) + 5;
                    num2 = Math.floor(Math.random() * 20) + 5;
                    mathAnswer = num1 + num2;
                    question = `${num1} + ${num2} = ?`;
                    break;
                case '-':
                    num1 = Math.floor(Math.random() * 30) + 20;
                    num2 = Math.floor(Math.random() * 15) + 5;
                    mathAnswer = num1 - num2;
                    question = `${num1} - ${num2} = ?`;
                    break;
                case '×':
                    num1 = Math.floor(Math.random() * 8) + 2;
                    num2 = Math.floor(Math.random() * 8) + 2;
                    mathAnswer = num1 * num2;
                    question = `${num1} × ${num2} = ?`;
                    break;
            }
            
            document.getElementById('mathQuestion').textContent = question;
            document.getElementById('mathAnswer').value = '';
            document.getElementById('mathFeedback').classList.add('hidden');
        }

        // Generate Image Challenge
        function generateImageChallenge() {
            const challenges = [
                {
                    target: 'Hearts ❤️',
                    images: [
                        { emoji: '❤️', correct: true },
                        { emoji: '💙', correct: false },
                        { emoji: '❤️', correct: true },
                        { emoji: '💚', correct: false },
                        { emoji: '🧡', correct: false },
                        { emoji: '❤️', correct: true },
                        { emoji: '💜', correct: false },
                        { emoji: '💛', correct: false },
                        { emoji: '🤍', correct: false }
                    ]
                },
                {
                    target: 'Fruits 🍎',
                    images: [
                        { emoji: '🍎', correct: true },
                        { emoji: '🚗', correct: false },
                        { emoji: '🍌', correct: true },
                        { emoji: '🏠', correct: false },
                        { emoji: '🍊', correct: true },
                        { emoji: '⚽', correct: false },
                        { emoji: '🍇', correct: true },
                        { emoji: '📱', correct: false },
                        { emoji: '🎸', correct: false }
                    ]
                },
                {
                    target: 'Animals 🐶',
                    images: [
                        { emoji: '🐶', correct: true },
                        { emoji: '🚀', correct: false },
                        { emoji: '🐱', correct: true },
                        { emoji: '🌟', correct: false },
                        { emoji: '🐸', correct: true },
                        { emoji: '💎', correct: false },
                        { emoji: '🦋', correct: true },
                        { emoji: '🔥', correct: false },
                        { emoji: '⭐', correct: false }
                    ]
                }
            ];
            
            const challenge = challenges[Math.floor(Math.random() * challenges.length)];
            document.getElementById('imageTarget').textContent = challenge.target;
            
            // Shuffle images
            const shuffledImages = [...challenge.images].sort(() => Math.random() - 0.5);
            
            correctImages = [];
            selectedImages = [];
            
            const imageGrid = document.getElementById('imageGrid');
            imageGrid.innerHTML = '';
            
            shuffledImages.forEach((image, index) => {
                if (image.correct) {
                    correctImages.push(index);
                }
                
                const imageDiv = document.createElement('div');
                imageDiv.className = 'aspect-square bg-white border-2 border-gray-300 rounded-xl flex items-center justify-center text-4xl cursor-pointer transition-all duration-300 hover:border-green-400 hover:scale-105';
                imageDiv.innerHTML = image.emoji;
                imageDiv.onclick = () => toggleImageSelection(index, imageDiv);
                
                imageGrid.appendChild(imageDiv);
            });
            
            document.getElementById('imageFeedback').classList.add('hidden');
        }

        // Toggle Image Selection
        function toggleImageSelection(index, element) {
            if (selectedImages.includes(index)) {
                selectedImages = selectedImages.filter(i => i !== index);
                element.classList.remove('border-green-500', 'bg-green-50', 'scale-105');
                element.classList.add('border-gray-300');
            } else {
                selectedImages.push(index);
                element.classList.remove('border-gray-300');
                element.classList.add('border-green-500', 'bg-green-50', 'scale-105');
            }
        }

        // Verify Images
        function verifyImages() {
            const feedback = document.getElementById('imageFeedback');
            const verifyBtn = document.getElementById('verifyImageBtn');
            
            verificationAttempts++;
            
            // Check if selection matches correct images
            const isCorrect = selectedImages.length === correctImages.length && 
                             selectedImages.every(img => correctImages.includes(img)) &&
                             correctImages.every(img => selectedImages.includes(img));
            
            if (isCorrect) {
                // Correct selection
                feedback.innerHTML = `
                    <div class="bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded-xl">
                        <div class="flex items-center justify-center mb-2">
                            <svg class="w-6 h-6 text-green-600 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                            <span class="font-bold">Verification Successful!</span>
                        </div>
                        <p class="text-sm">Perfect! You've proven you're human. Redirecting to your results...</p>
                    </div>
                `;
                feedback.classList.remove('hidden');
                
                verifyBtn.innerHTML = `
                    <svg class="w-5 h-5 mr-2 animate-spin" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path>
                    </svg>
                    Verified!
                `;
                verifyBtn.disabled = true;
                verifyBtn.classList.add('bg-green-600', 'hover:bg-green-700');
                
                isVerified = true;
                
                // Proceed to final section after delay
                setTimeout(() => {
                    proceedToFinalSection();
                }, 2000);
                
            } else {
                // Wrong selection
                const attemptsLeft = maxAttempts - verificationAttempts;
                
                if (attemptsLeft > 0) {
                    feedback.innerHTML = `
                        <div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-xl">
                            <div class="flex items-center justify-center mb-2">
                                <svg class="w-5 h-5 text-red-600 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                                </svg>
                                <span class="font-bold">Incorrect Selection</span>
                            </div>
                            <p class="text-sm">Please try again. ${attemptsLeft} attempt${attemptsLeft > 1 ? 's' : ''} remaining.</p>
                        </div>
                    `;
                    
                    // Reset selections
                    selectedImages = [];
                    const imageElements = document.querySelectorAll('#imageGrid > div');
                    imageElements.forEach(el => {
                        el.classList.remove('border-green-500', 'bg-green-50', 'scale-105');
                        el.classList.add('border-gray-300');
                    });
                    
                } else {
                    // Max attempts reached, generate new challenge
                    feedback.innerHTML = `
                        <div class="bg-yellow-100 border border-yellow-400 text-yellow-700 px-4 py-3 rounded-xl">
                            <div class="flex items-center justify-center mb-2">
                                <svg class="w-5 h-5 text-yellow-600 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path>
                                </svg>
                                <span class="font-bold">New Challenge Generated</span>
                            </div>
                            <p class="text-sm">Let's try a different image challenge.</p>
                        </div>
                    `;
                    
                    verificationAttempts = 0;
                    setTimeout(() => {
                        generateImageChallenge();
                    }, 1500);
                }
                
                feedback.classList.remove('hidden');
            }
        }

        // Verify Math Answer
        function verifyMath() {
            const userAnswer = parseInt(document.getElementById('mathAnswer').value);
            const feedback = document.getElementById('mathFeedback');
            const verifyBtn = document.getElementById('verifyMathBtn');
            
            verificationAttempts++;
            
            if (userAnswer === mathAnswer) {
                // Correct answer
                feedback.innerHTML = `
                    <div class="bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded-xl">
                        <div class="flex items-center justify-center mb-2">
                            <svg class="w-6 h-6 text-green-600 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                            <span class="font-bold">Verification Successful!</span>
                        </div>
                        <p class="text-sm">You've proven you're human. Redirecting to your results...</p>
                    </div>
                `;
                feedback.classList.remove('hidden');
                
                verifyBtn.innerHTML = `
                    <svg class="w-5 h-5 mr-2 animate-spin" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path>
                    </svg>
                    Verified!
                `;
                verifyBtn.disabled = true;
                verifyBtn.classList.add('bg-green-600', 'hover:bg-green-700');
                
                isVerified = true;
                
                // Proceed to final section after delay
                setTimeout(() => {
                    proceedToFinalSection();
                }, 2000);
                
            } else {
                // Wrong answer
                const attemptsLeft = maxAttempts - verificationAttempts;
                
                if (attemptsLeft > 0) {
                    feedback.innerHTML = `
                        <div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-xl">
                            <div class="flex items-center justify-center mb-2">
                                <svg class="w-5 h-5 text-red-600 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                                </svg>
                                <span class="font-bold">Incorrect Answer</span>
                            </div>
                            <p class="text-sm">Please try again. ${attemptsLeft} attempt${attemptsLeft > 1 ? 's' : ''} remaining.</p>
                        </div>
                    `;
                    
                    // Shake animation
                    const mathInput = document.getElementById('mathAnswer');
                    mathInput.style.animation = 'shake 0.5s ease-in-out';
                    setTimeout(() => {
                        mathInput.style.animation = '';
                        mathInput.focus();
                        mathInput.select();
                    }, 500);
                    
                } else {
                    // Max attempts reached, generate new challenge
                    feedback.innerHTML = `
                        <div class="bg-yellow-100 border border-yellow-400 text-yellow-700 px-4 py-3 rounded-xl">
                            <div class="flex items-center justify-center mb-2">
                                <svg class="w-5 h-5 text-yellow-600 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path>
                                </svg>
                                <span class="font-bold">New Challenge Generated</span>
                            </div>
                            <p class="text-sm">Let's try a different equation.</p>
                        </div>
                    `;
                    
                    verificationAttempts = 0;
                    setTimeout(() => {
                        generateMathChallenge();
                    }, 1500);
                }
                
                feedback.classList.remove('hidden');
            }
        }

        // Proceed to Final Section
        function proceedToFinalSection() {
            if (!isVerified) return;
            
            const verificationSection = document.getElementById('verificationSection');
            verificationSection.style.opacity = '0';
            verificationSection.style.transform = 'translateY(-20px)';
            
            setTimeout(() => {
                verificationSection.classList.add('hidden');
                verificationSection.style.opacity = '';
                verificationSection.style.transform = '';
                
                const finalSection = document.getElementById('finalSection');
                finalSection.classList.remove('hidden');
                finalSection.classList.add('fade-in');
                
                currentQuestion++;
                updateNavigation();
                updateProgress();
            }, 300);
        }

        function openGoogleForm() {
            // Log the assessment data
            console.log('Assessment Data:', answers);
            
            // Add button loading state
            const button = event.target;
            const originalText = button.innerHTML;
            button.innerHTML = `
                <svg class="w-5 h-5 mr-2 animate-spin" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path>
                </svg>
                Opening Form...
            `;
            button.disabled = true;
            
            // Open Google Form in new tab
            setTimeout(() => {
                window.open('https://forms.gle/NrrMpaHxeKwEKDVSA', '_blank');
                
                // Reset button and enable verification
                button.innerHTML = originalText;
                button.disabled = false;
                
                // Enable the verification button after form is opened
                enableFormVerification();
            }, 1000);
        }

        function enableFormVerification() {
            const verifyBtn = document.getElementById('verifyFormBtn');
            verifyBtn.disabled = false;
            verifyBtn.classList.remove('bg-gray-300', 'text-gray-500', 'cursor-not-allowed');
            verifyBtn.classList.add('bg-blue-500', 'text-white', 'hover:bg-blue-600', 'cursor-pointer');
            
            // Add pulsing animation to draw attention
            verifyBtn.classList.add('animate-pulse');
        }

        function verifyFormCompletion() {
            const verifyBtn = document.getElementById('verifyFormBtn');
            const originalText = verifyBtn.innerHTML;
            
            // Show loading state
            verifyBtn.innerHTML = `
                <svg class="w-4 h-4 mr-2 animate-spin" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path>
                </svg>
                Verifying...
            `;
            verifyBtn.disabled = true;
            
            // Simulate verification process
            setTimeout(() => {
                // Show success state
                verifyBtn.innerHTML = `
                    <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                    </svg>
                    Form Completed! ✓
                `;
                verifyBtn.classList.remove('bg-blue-500', 'hover:bg-blue-600');
                verifyBtn.classList.add('bg-green-500');
                
                // Enable PDF download after delay
                setTimeout(() => {
                    unlockPDFDownload();
                }, 2000);
                
            }, 2000);
        }

        function unlockPDFDownload() {
            // Hide Step 1 and show Step 2
            const step1 = document.getElementById('step1Container');
            const step2 = document.getElementById('step2Container');
            
            // Animate Step 1 out
            step1.style.opacity = '0';
            step1.style.transform = 'translateY(-20px)';
            
            setTimeout(() => {
                step1.classList.add('hidden');
                step2.classList.remove('hidden');
                step2.classList.add('fade-in');
                
                // Scroll to the download section
                step2.scrollIntoView({ behavior: 'smooth', block: 'center' });
                
                // Show celebration effect
                showCelebrationEffect();
            }, 300);
        }

        function showCelebrationEffect() {
            // Create confetti-like effect
            for (let i = 0; i < 20; i++) {
                setTimeout(() => {
                    createConfetti();
                }, i * 100);
            }
        }

        function createConfetti() {
            const confetti = document.createElement('div');
            confetti.className = 'fixed w-3 h-3 rounded-full z-50 pointer-events-none';
            confetti.style.background = ['#b4300a', '#7a150b', '#25262a', '#ffd700', '#ff6b6b'][Math.floor(Math.random() * 5)];
            confetti.style.left = Math.random() * 100 + 'vw';
            confetti.style.top = '-10px';
            confetti.style.animation = 'confettiFall 3s linear forwards';
            
            document.body.appendChild(confetti);
            
            setTimeout(() => {
                document.body.removeChild(confetti);
            }, 3000);
        }

        // Download PDF Guide Function
        function downloadGuide() {
            // Create personalized PDF content based on assessment answers
            const { jsPDF } = window.jsPDF;
            const doc = new jsPDF();
            
            // Add title
            doc.setFontSize(24);
            doc.setTextColor(180, 48, 10);
            doc.text('Your Personalized Fat-Burning Guide', 20, 30);
            
            // Add subtitle
            doc.setFontSize(16);
            doc.setTextColor(100, 100, 100);
            doc.text('Science-Based Transformation Plan', 20, 45);
            
            // Add assessment results
            doc.setFontSize(14);
            doc.setTextColor(0, 0, 0);
            let yPosition = 65;
            
            doc.text('Your Assessment Results:', 20, yPosition);
            yPosition += 15;
            
            if (answers.age) {
                doc.text(`• Age Range: ${answers.age}`, 25, yPosition);
                yPosition += 10;
            }
            if (answers.weight) {
                doc.text(`• Weight Status: ${answers.weight}`, 25, yPosition);
                yPosition += 10;
            }
            if (answers.activity) {
                doc.text(`• Activity Level: ${answers.activity}`, 25, yPosition);
                yPosition += 10;
            }
            if (answers.goal) {
                doc.text(`• Primary Goal: ${answers.goal}`, 25, yPosition);
                yPosition += 15;
            }
            
            // Add personalized recommendations
            doc.setFontSize(16);
            doc.setTextColor(180, 48, 10);
            doc.text('Your Personalized Recommendations:', 20, yPosition);
            yPosition += 15;
            
            doc.setFontSize(12);
            doc.setTextColor(0, 0, 0);
            
            // Generate recommendations based on answers
            const recommendations = generateRecommendations();
            recommendations.forEach(rec => {
                const lines = doc.splitTextToSize(rec, 170);
                lines.forEach(line => {
                    if (yPosition > 270) {
                        doc.addPage();
                        yPosition = 20;
                    }
                    doc.text(line, 25, yPosition);
                    yPosition += 7;
                });
                yPosition += 5;
            });
            
            // Add footer
            doc.setFontSize(10);
            doc.setTextColor(100, 100, 100);
            doc.text('Generated by BurnTonic Premium Health Assessment', 20, 280);
            doc.text('For more personalized guidance, visit our website', 20, 290);
            
            // Save the PDF
            doc.save('Your-Personalized-Fat-Burning-Guide.pdf');
            
            // Show success message
            showDownloadSuccess();
        }

        // Generate personalized recommendations based on assessment
        function generateRecommendations() {
            const recommendations = [];
            
            // Age-based recommendations
            if (answers.age === '18-29') {
                recommendations.push('• Take advantage of your peak metabolism with high-intensity interval training (HIIT) 3-4 times per week.');
                recommendations.push('• Focus on building lean muscle mass through strength training to boost long-term fat burning.');
            } else if (answers.age === '30-39') {
                recommendations.push('• Combine strength training with cardio to maintain muscle mass and boost metabolism.');
                recommendations.push('• Pay attention to stress management as cortisol levels can affect fat storage.');
            } else if (answers.age === '40-49') {
                recommendations.push('• Focus on hormone-supporting foods and supplements to maintain metabolic health.');
                recommendations.push('• Incorporate resistance training to combat age-related muscle loss.');
            } else if (answers.age === '50-59') {
                recommendations.push('• Emphasize joint-friendly exercises like swimming, cycling, and yoga.');
                recommendations.push('• Consider intermittent fasting to support metabolic flexibility.');
            } else if (answers.age === '60+') {
                recommendations.push('• Focus on gentle, consistent movement like walking and light strength training.');
                recommendations.push('• Prioritize protein intake to maintain muscle mass and bone health.');
            }
            
            // Weight-based recommendations
            if (answers.weight === 'slightly-overweight') {
                recommendations.push('• Create a moderate caloric deficit of 300-500 calories per day for steady fat loss.');
                recommendations.push('• Focus on whole foods and eliminate processed snacks for quick results.');
            } else if (answers.weight === 'moderately-overweight') {
                recommendations.push('• Implement a structured meal plan with proper portion control.');
                recommendations.push('• Add 30-45 minutes of daily activity to accelerate fat burning.');
            } else if (answers.weight === 'significantly-overweight') {
                recommendations.push('• Start with low-impact exercises and gradually increase intensity.');
                recommendations.push('• Consider working with a nutritionist for a comprehensive meal plan.');
            } else if (answers.weight === 'major-weight-loss') {
                recommendations.push('• Focus on sustainable lifestyle changes rather than quick fixes.');
                recommendations.push('• Build a strong support system and consider professional guidance.');
            }
            
            // Activity-based recommendations
            if (answers.activity === 'sedentary') {
                recommendations.push('• Start with 10-15 minutes of daily walking and gradually increase duration.');
                recommendations.push('• Set hourly reminders to stand and move throughout the day.');
            } else if (answers.activity === 'lightly-active') {
                recommendations.push('• Increase your current activity by adding 2 more workout days per week.');
                recommendations.push('• Try new activities like dancing, hiking, or sports to stay motivated.');
            } else if (answers.activity === 'moderately-active') {
                recommendations.push('• Optimize your current routine by adding high-intensity intervals.');
                recommendations.push('• Focus on progressive overload in strength training for better results.');
            } else if (answers.activity === 'very-active') {
                recommendations.push('• Fine-tune your nutrition timing around workouts for maximum fat burning.');
                recommendations.push('• Consider periodization in your training to prevent plateaus.');
            }
            
            // Goal-based recommendations
            if (answers.goal === 'lose-weight-fast') {
                recommendations.push('• Combine intermittent fasting with high-intensity workouts for rapid results.');
                recommendations.push('• Track your food intake meticulously and maintain a consistent sleep schedule.');
            } else if (answers.goal === 'sustainable-loss') {
                recommendations.push('• Aim for 1-2 pounds of fat loss per week through balanced nutrition and exercise.');
                recommendations.push('• Build healthy habits gradually to ensure long-term success.');
            } else if (answers.goal === 'boost-energy') {
                recommendations.push('• Focus on nutrient-dense foods and avoid energy-draining processed foods.');
                recommendations.push('• Incorporate morning exercise to naturally boost energy levels throughout the day.');
            } else if (answers.goal === 'improve-health') {
                recommendations.push('• Prioritize whole foods, adequate sleep, and stress management for overall wellness.');
                recommendations.push('• Regular health check-ups and monitoring key biomarkers for progress tracking.');
            }
            
            return recommendations;
        }

        function showDownloadSuccess() {
            const successMessage = document.createElement('div');
            successMessage.className = 'fixed top-4 right-4 bg-green-500 text-white px-6 py-4 rounded-xl shadow-lg z-50 transform translate-x-full transition-transform duration-300';
            successMessage.innerHTML = `
                <div class="flex items-center">
                    <svg class="w-6 h-6 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                    </svg>
                    <div>
                        <div class="font-bold font-accent">Download Complete!</div>
                        <div class="text-sm opacity-90">Your guide is ready to use</div>
                    </div>
                </div>
            `;
            
            document.body.appendChild(successMessage);
            
            // Animate in
            setTimeout(() => {
                successMessage.style.transform = 'translateX(0)';
            }, 100);
            
            // Animate out and remove
            setTimeout(() => {
                successMessage.style.transform = 'translateX(full)';
                setTimeout(() => {
                    document.body.removeChild(successMessage);
                }, 300);
            }, 4000);
        }

        // Initialize
        updateNavigation();
        updateProgress();

        // Add keyboard navigation
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Enter' && currentQuestion <= totalQuestions) {
                const nextBtn = document.getElementById('nextBtn');
                if (!nextBtn.disabled && !nextBtn.classList.contains('hidden')) {
                    nextQuestion();
                }
            }
        });
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9740301d86a7c8d9',t:'MTc1NjAxMDU5OC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
